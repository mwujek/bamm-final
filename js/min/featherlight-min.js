!function($){"use strict";function e(t,n,o,r){if(console.log(r+"WOWOWOWOW"),!(this instanceof e)){var a=new e(t,n,o,r);return a.open(),a}this.id=e.id++,this.setup(t,n,o,r),this.chainCallbacks(e._callbackChain)}if("undefined"==typeof $)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var t=function(t){if(!t.isDefaultPrevented()){var n=e.current();n&&n.onKeyDown(t)}};e.prototype={constructor:e,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",otherClose:null,beforeOpen:function(){},beforeContent:$.noop,beforeClose:$.noop,afterOpen:$.noop,afterContent:$.noop,afterClose:$.noop,onKeyDown:$.noop,type:null,contentFilters:["jquery","image","html","ajax","text"],artistName:"We Became Owls",artistInfo:"pussy",setup:function(e,t){"object"!=typeof e||e instanceof $!=!1||t||(t=e,e=void 0);var n=$.extend(this,t,{target:e}),o=n.resetCss?n.namespace+"-reset":n.namespace,r=$(n.background||['<div class="'+o+'">','<div class="'+o+'-content">','<span class="'+o+"-close-icon "+n.namespace+'-close">',n.closeIcon,"</span>",'<div class="videoInfo"><h1>'+n.artistName+"</h1><p>"+n.artistInfo+"</p></div>",'<div class="'+n.namespace+'-inner"></div>',"</div>","</div>"].join("")),a="."+n.namespace+"-close"+(n.otherClose?","+n.otherClose:"");return n.$instance=r.clone().addClass(n.variant),n.$instance.on(n.closeTrigger+"."+n.namespace,function(e){var t=$(e.target);("background"===n.closeOnClick&&t.is("."+n.namespace)||"anywhere"===n.closeOnClick||t.is(a))&&(e.preventDefault(),n.close())}),this},getContent:function(){var e=this,t=this.constructor.contentFilters,n=function(t){return e.$currentTarget&&e.$currentTarget.attr(t)},o=n(e.targetAttr),r=e.target||o||"",a=t[e.type];if(!a&&r in t&&(a=t[r],r=e.target&&o),r=r||n("href")||"",!a)for(var i in t)e[i]&&(a=t[i],r=e[i]);if(!a){var s=r;if(r=null,$.each(e.contentFilters,function(){return a=t[this],a.test&&(r=a.test(s)),!r&&a.regex&&s.match&&s.match(a.regex)&&(r=s),!r}),!r)return"console"in window&&window.console.error("Featherlight: no content filter found "+(s?' for "'+s+'"':" (no target specified)")),!1}return a.process.call(e,r)},setContent:function(e){var t=this;return(e.is("iframe")||$("iframe",e).length>0)&&t.$instance.addClass(t.namespace+"-iframe"),t.$content=e.addClass(t.namespace+"-inner"),t.$instance.find("."+t.namespace+"-inner").slice(1).remove().end().replaceWith(t.$content),t},open:function(n){var o=this;if(!(n&&n.isDefaultPrevented()||o.beforeOpen(n)===!1)){n&&n.preventDefault();var r=o.getContent();if(r)return o.constructor._opened.add(o._openedCallback=function(e,t){o instanceof e&&o.$instance.closest("body").length>0&&(t.currentFeatherlight=o)}),e._keyHandlerInstalled||($(document).on("keyup."+e.prototype.namespace,t),e._keyHandlerInstalled=!0),o.$instance.appendTo(o.root).fadeIn(o.openSpeed),o.beforeContent(n),$.when(r).done(function(e){o.setContent(e),o.afterContent(n),$.when(o.$instance.promise()).done(function(){o.afterOpen(n)})}),o}return!1},close:function(n){var o=this;return o.beforeClose(n)===!1?!1:(o.constructor._opened.remove(o._openedCallback),e.current()||($(document).off("keyup."+e.namespace,t),o.constructor._keyHandlerInstalled=!1),void o.$instance.fadeOut(o.closeSpeed,function(){o.$instance.detach(),o.afterClose(n)}))},chainCallbacks:function(e){for(var t in e)this[t]=$.proxy(e[t],this,$.proxy(this[t],this))}},$.extend(e,{id:0,autoBind:"[data-featherlight]",defaults:e.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof $&&e},process:function(e){return $(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(e){var t=this,n=$.Deferred(),o=new Image;return o.onload=function(){n.resolve($('<img src="'+e+'" alt="" class="'+t.namespace+'-image" />'))},o.onerror=function(){n.reject()},o.src=e,n.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return $(e)}},ajax:{regex:/./,process:function(e){var t=this,n=$.Deferred(),o=$("<div></div>").load(e,function(e,t){"error"!==t&&n.resolve(o.contents()),n.fail()});return n.promise()}},text:{process:function(e){return $("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e){var t=this,n={};return e&&e.attributes&&$.each(e.attributes,function(){var e=this.name.match(/^data-featherlight-(.*)/);if(e){var o=this.value,r=$.camelCase(e[1]);if($.inArray(r,t.functionAttributes)>=0)o=new Function(o);else try{o=$.parseJSON(o)}catch(a){}n[r]=o}}),n},extend:function(e,t){var n=function(){this.constructor=e};return n.prototype=this.prototype,e.prototype=new n,e.__super__=this.prototype,$.extend(e,this,t),e.defaults=e.prototype,e},attach:function(e,t,n,o,r){console.log("MEOW: "+o);var a=this;"object"!=typeof t||t instanceof $!=!1||n||(n=t,t=void 0),n=$.extend({},n);var i=$.extend({},a.defaults,a.readElementConfig(e[0]),n);return e.on(i.openTrigger+"."+i.namespace,i.filter,o,function(r){console.log(o);var i=$.extend({$source:e,$currentTarget:$(this)},a.readElementConfig(e[0]),a.readElementConfig(this),n);new a(t,i).open(r)}),e},current:function(){var e={};return this._opened.fire(this,e),e.currentFeatherlight},close:function(){var e=this.current();e&&e.close()},_onReady:function(){var e=this;e.autoBind&&(e.attach($(document),{filter:e.autoBind}),$(e.autoBind).filter("[data-featherlight-filter]").each(function(){e.attach($(this))}))},_callbackChain:{onKeyDown:function(e,t){return 27===t.keyCode&&this.closeOnEsc?(this.$instance.find("."+this.namespace+"-close:first").click(),void t.preventDefault()):(console.log("pass"),e(t))}},_opened:$.Callbacks()}),$.featherlight=e,$.fn.featherlight=function(t,n,o,r){return console.log(o),e.attach(this,t,n,o,r)},$(document).ready(function(){e._onReady()})}(jQuery);